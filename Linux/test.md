Прежде, чем начинать работу с файлами, проверим наличие в системе утилит grep и sed:

      grep -v
      sed -v

Если утилиты не обнаружены, то установим их:

      sudo apt update
      sudo apt install grep
      sudo apt install sed

_________________________________________________________________________________________________

/
--/var/
----/www/
------/html/
--------/index.html
--------/404.html
--------/.htaccess
----/logs/
------/access.log

Напишите набор команд с комментарием их работы, которые Вы примените для решения следующих задач:


ЗАДАНИЕ 1.
Выведите список всех файлов в папке html.


Сначала при помощи команды "cd" переходим из корневого каталога в целевой каталог html:

      cd /var/www/html

Далее выводим содержимое (включая скрытый файл .htaccess) каталога "html" следующей командой:

      ls -a

_________________________________________________________________________________________________


ЗАДАНИЕ 2.
Найдите в файле access.log все упоминания строки "404".


Переходим в целевой каталог:

      cd /var/logs

Производим целевой поиск по файлу:

      grep -w "404" access.log

_________________________________________________________________________________________________


ЗАДАНИЕ 3.
На основании файла 404.html сделайте файл 403.html заменив в его содержимом все упоминания 404 на 403


Переходим в целевой каталог:

      cd /var/www/html

Сначала скопируем файл с переименованием:

      cp 404.html 403.html

А затем произведем замену упоминаний 404 на 403 в свежесозданном файле 403.html:

      sed -i 's/404/403/g' 404.html

_________________________________________________________________________________________________


ЗАДАНИЕ 4.
Модифицируйте права доступа и владельца файла index.html следующим образом: Текущий пользователь должен иметь права на чтение/запись. 
Группа www-data на чтение. Все остальные не имеют доступа к файлу.


Сначала проверим наличие группы www-data в системе, просмотрев общий список групп в системе:

      cat /etc/group

Если такой группы не существует, то создадим ее:

      sudo groupadd www-data

А затем дадим этой группе доступ к файлу:

      chown :www-data /var/www/html/index.html

Далее при помощи команды "cd" переходим из корневого каталога в целевой каталог html:

      cd /var/www/html

После проверим текущие права доступа владельца и группы:

      ls -l index.html

И наконец обновляем права доступа для владельца (user - u), группы (group - g) и всех остальных (others - o):
("+" - добавить права, "-" - отнять права, "r / 4" - чтение, "w / 2" - запись, "x / 1" - выполнение).

      chmod u+rw index.html
      chmod g+r index.html
      chmod o-rwx index.html

  или можно одной строкой:

      chmod 620 index.html

_________________________________________________________________________________________________


ЗАДАНИЕ 5.
Сделайте символическую ссылку на файл access.log в папке html.


Переходим в каталог html:

      cd /var/www/html

Чтобы создать символическую ссылку, нужно выполнить следующую команду:

      ln -s /var/logs/access.log mylink

Теперь у нас есть ссылка c именем mylink, которая указывает на целевой файл. Проверка командой:

      ls -li

_________________________________________________________________________________________________


ЗАДАНИЕ 6.
Выведите на экран все файлы в папке var.


Сначала при помощи команды "cd" переходим в целевой каталог var:

      cd /var

Далее выводим содержимое каталога var следующей командой:

      ls -a

_________________________________________________________________________________________________


ЗАДАНИЕ 7.
Создайте новый файл 503.html в папке html с следующим содержимым:
<html>
    <head>
        <title>503</title>
    </head>
</html>


Переходим в каталог html:

      cd /var/www/html

Применяем команду:

      cat > 503.html

Нам становится доступна возможность многострочной записи. Вводим необходимые данные:
<html>
<head>
<title>503</title>
</head>
</html>
и закрываем запись (на Ubuntu сочетанием клавиш Ctrl+D).

Файл с содержимым создан.